<?php
$data = [
    [
        'id' => 1,
        'title' => 'El Río Atrato es uno de los ríos más importantes y hermosos de Colombia. Fluyendo a través de Quibdó, este majestuoso río ofrece vistas espectaculares y una conexión íntima con la naturaleza. Los visitantes pueden disfrutar de paseos en bote, explorar las orillas del río o simplemente relajarse y observar la vida fluvial. El Atrato no solo es vital para la economía y el transporte, sino también para el estilo de vida y la cultura local.',
        'price' => '10000',
        'img' => 'assets/imagenesseccionturistica/30.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 2,
        'title' => 'A solo unos kilómetros de Quibdó, Pacurita es una comunidad encantadora que ofrece una experiencia auténtica de la vida rural chocoana. Rodeada de exuberante vegetación y paisajes tranquilos, Pacurita es el lugar perfecto para desconectarse del bullicio de la ciudad y sumergirse en la naturaleza. Los visitantes pueden disfrutar de caminatas, visitas a fincas locales y la hospitalidad de los residentes.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionturistica\49.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 3,
        'title' => 'La Troje es una popular zona del río Atrato en Quibdó, conocida por su belleza natural y su importancia para la recreación local. Es un lugar donde los habitantes se reúnen para nadar, pescar y disfrutar del paisaje. La Troje es un excelente punto para experimentar la vida cotidiana en Quibdó y conectarse con la naturaleza.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionturistica\35.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 4,
        'title' => 'El sancocho es una sopa tradicional y reconfortante que captura los sabores auténticos del Pacífico colombiano. Elaborado con una variedad de carnes como pollo, res o pescado, y acompañado de plátano, yuca, maíz y otros vegetales, este plato es una explosión de sabor en cada bocado. Cada hogar tiene su propia receta especial, lo que hace que probar el sancocho en Quibdó sea una experiencia única y deliciosa.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\43.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 5,
        'title' => 'La arepa es un alimento básico en muchas regiones de Colombia, y en Quibdó, se disfruta de una manera única. Hechas de maíz molido y cocidas a la parrilla o fritas, las arepas pueden servirse simples o rellenas con queso, carne o mantequilla. Son perfectas para cualquier comida del día y representan la simplicidad y la riqueza de la cocina local. Probar una arepa en Quibdó es saborear una parte esencial de la cultura colombiana.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionturistica\44.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 6,
        'title' => 'Este plato es una verdadera fiesta de sabores y texturas, mezclando arroz con una variedad de carnes, mariscos y vegetales. El "arroz con todo" es un reflejo de la generosidad y diversidad de la cocina chocoana. Cada bocado es una sorpresa, con ingredientes frescos y especias locales que se combinan para crear una experiencia culinaria inolvidable.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionturistica\37.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 7,
        'title' => 'Fresco y crujiente, el pescado frito es una especialidad en Quibdó. Preparado con pescados recién capturados del río Atrato o del océano Pacífico, este plato se sirve con acompañamientos como arroz, patacón y ensalada. El pescado frito es una muestra del amor local por los productos del mar y una delicia que no te puedes perder.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\40.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 72,
        'title' => 'Los patacones son rodajas de plátano verde frito que se sirven crujientes y doradas. En Quibdó, se suelen acompañar con queso fresco, creando una deliciosa combinación de texturas y sabores. Este plato es perfecto como aperitivo o acompañamiento y es una muestra del ingenio culinario local.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\48.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 75,
        'title' => ' La fiesta de San Pacho es la celebración más grande y vibrante de Quibdó, en honor a San Francisco de Asís, el santo patrono de la ciudad. Durante casi un mes, las calles se llenan de desfiles coloridos, música en vivo, danzas tradicionales y eventos culturales. Esta festividad, declarada Patrimonio Cultural Inmaterial de la Humanidad por la UNESCO, es una muestra espectacular de la rica herencia afrocolombiana y la devoción religiosa de los habitantes de Quibdó.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\22.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 8,
        'title' => 'Celebrada en honor a San Antonio, esta festividad combina rituales religiosos con actividades comunitarias y culturales. Los eventos incluyen procesiones solemnes, misas especiales, y fiestas populares con música y bailes. Es una oportunidad para experimentar la profunda fe y el sentido de comunidad que caracteriza a los habitantes de Quibdó.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionturistica\28.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 9,
        'title' => 'El pintor y artista plástico Rubén Crespo nació en Bello y desde su juventud se ha dedicado a retratar a la comunidad negra, especialmente músicos y mineros. Estudió arte y antropología, vivió tres años en Quibdó y 16 años en Nueva York. Ha presentado sus obras en galerías de varias ciudades de Colombia, Estados Unidos y Europa. Una de sus últimas pinturas es» Allá en Bojayá», en la técnica de acrílico sobre lienzo.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\1.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 10,
        'title' => 'El escultor chocoano Carlos Egidio Moreno, nacido en Noanamá, desarrolla varias técnicas como la talla en piedra, la talla en madera y la pintura en óleo. En sus obras destaca la importancia de la diversidad y la riqueza de los grupos étnicos que hacen de Colombia un país pluriétnico y multicultural.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\2.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 11,
        'title' => 'Del artista chocoano Carlos Egidio Moreno, Creación única elaborada a través de procesos y técnicas que nos conectan con la esencia de Colombia, la cultura Chocoana y la raza negra. su obra recibe el nombre de "Flor Negra".',
        'price' => '17000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\3.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 12,
        'title' => 'Otra de las magníficas obras del artista Chocoano Carlos Egidio Moreno. Inauguró la exposición "Hábitat y Hábitos, la comunidad afro" en el año 2020, en el centro colombo americano. Él explica: "Lo que muestro en la exposición son dos momentos. Uno que es la parte religiosa del pueblo afro, cómo se vive y se entiende la cosmovisión a través de unas pinturas y de una escultura que retratan el sentir animista de la comunidad."',
        'price' => '20000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\4.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 13,
        'title' => 'De la exposición "Hábitat y hábitos, la comunidad afro" del artista Carlos Egidio Moreno. Él explica: "El otro momento es con las esculturas con las que hablo de la parte minera, de nuestra relación con la tierra, desde cómo el ser humano se relaciona con ella". Agrega que casi siempre esa relación es de extracción porque nunca se le da algo a la tierra, "solo le quitamos y la minería es una manera de hacerlo".',
        'price' => '10000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\5.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 14,
        'title' => 'Gustavo Hoyos Benítez nació en Condoto-Chocó en 1947. Desde 1969 exploró diversas técnicas y se decidió por el óleo, dice él: “porque me parece que los colores son más vivos, más llamativos». Ha realizado exposiciones en Venezuela, Estados Unidos y numerosas ciudades de Colombia. En sus pinturas plasma principalmente los paisajes del Chocó, los ríos, el bosque tropical, la biodiversidad.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\6.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 15,
        'title' => 'Gustavo Hoyos Benítez, maestro pintor Chocoano. Talento enorme. Tiene su taller en Quibdó y su casa es una galería de paisajes chocoanos.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\7.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 16,
        'title' => 'Rubén Crespo Pérez es un artista plástico y gestor cultural con múltiples exposiciones en el país y el exterior, quien destaca en su obra el «Color afro» de nuestra cultura y oficios tradicionales.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\8.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 17,
        'title' => 'La Cárcel Anayanci es un edificio histórico en Quibdó que refleja una parte significativa del pasado de la ciudad. Originalmente construida en la época colonial, esta estructura ha sido testigo de numerosos eventos históricos y ha evolucionado junto con la ciudad. Hoy en día, su arquitectura y su historia la convierten en un punto de interés para aquellos que desean entender más sobre la evolución social y política de la región.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionpatromonio\9.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 18,
        'title' => 'Este hospital es más que un centro de salud; es una institución emblemática en Quibdó. Fundado hace décadas, el Hospital San Francisco de Asís ha proporcionado atención médica crucial a los habitantes de la ciudad y sus alrededores. Además de su rol en la comunidad, el edificio mismo es un testimonio de la dedicación y el servicio continuo a la región, siendo un símbolo de esperanza y cuidado.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionpatromonio\7.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 19,
        'title' => 'El Colegio Carrasquilla es una de las instituciones educativas más antiguas y respetadas de Quibdó. Desde su fundación, ha sido un pilar en la educación de generaciones de jóvenes chocoanos. Sus instalaciones, impregnadas de historia, albergan una rica tradición educativa y cultural que ha influido profundamente en la comunidad. Visitar el colegio es una oportunidad para conocer de cerca el legado educativo de Quibdó.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionpatromonio\5.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 20,
        'title' => 'Esta impresionante catedral es un monumento central en Quibdó, no solo por su arquitectura majestuosa sino también por su profundo significado espiritual y cultural. La Catedral San Francisco de Asís, con sus imponentes vitrales y altares adornados, ofrece un lugar de paz y reflexión. Además, su historia y su papel en la vida religiosa de la ciudad la convierten en una visita imprescindible para los amantes de la historia y la arquitectura.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionpatromonio\1.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 21,
        'title' => 'Ubicado cerca de la catedral, el Palacio Episcopal es una joya arquitectónica que alberga la residencia del obispo y las oficinas de la diócesis. Este edificio histórico, con su diseño elegante y detalles arquitectónicos únicos, refleja la rica herencia religiosa de Quibdó. Los visitantes pueden apreciar la belleza del edificio y aprender sobre el importante papel de la Iglesia en la comunidad local.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionpatromonio\3.jpg',
        'category' => 'PATRIMONIO'
    ],
];

$jsonData = json_encode($data);

// Función para imprimir la lista de pestañas
function renderTabs($activeCategory, $onCategoryChange)
{
    $tabs = ["TURISMO", "OBRAS", "PATRIMONIO", "HISTORIA", "GUÍAS TURISTICOS"];
    echo '<nav class="tabs-menu">';
    echo '<ul>';
    foreach ($tabs as $tab) {
        $class = ($activeCategory === $tab) ? 'activeTab' : '';
        echo '<li class="' . $class . '" onclick="' . $onCategoryChange . '(\'' . $tab . '\')">' . $tab . '</li>';
    }
    echo '</ul>';
    echo '</nav>';
}

// Función para imprimir la cuadrícula de arte
function renderArtGrid($searchTerm, $activeCategory, $data)
{
    echo '<div class="grid-container">';
    foreach ($data as $art) {
        // Filtrar según el término de búsqueda y la categoría activa
        if (stripos($art['title'], $searchTerm) !== false && ($activeCategory === 'All' || $art['category'] === $activeCategory)) {
            renderCard($art['title'], $art['price'], $art['img'], $art['category']);
        }
    }
    echo '</div>';
}

// Función para imprimir una tarjeta de arte
function renderCard($title, $price, $img, $category)
{
    echo '<div class="grid-item">';
    echo '<img class="card-img" src="' . $img . '" alt="' . $title . '" />';
    echo '<h4 class="card-title">' . $title . '</h4>';
    // echo '<span class="category">Categoria: ' . $category . '</span>';
    // echo '<p>$' . $price . '</p>';
    // echo '<span class="favorite" onclick="handleFavorite(\'' . $title . '\')"></span>';
    echo '</div>';
}
?>

<div class="Banner-container">
  <div class="main-search">
    <h3>En que estás interesado?</h3>
    <div class="search-container">
      <input class="search-input" type="text" placeholder="Search..." oninput="handleChange(this.value)" />
      <span class="search-icon">🔍</span>
    </div>
  </div>
  <?php 
    // renderTabs('All', 'handleCategoryChange'); 
  ?>

<nav class="tabs-menu">
    <ul>
      <li class="activeTab" onclick="handleCategoryChange('TURISMO')">TURISMO</li>
      <li onclick="handleCategoryChange('OBRAS')">OBRAS</li>
      <li onclick="handleCategoryChange('PATRIMONIO')">PATRIMONIO</li>
      <li onclick="handleCategoryChange('HISTORIA')">HISTORIA</li>
      <li onclick="handleCategoryChange('GUÍAS TURISTICOS')">GUÍAS TURISTICOS</li>
    </ul>
  </nav>

  <div class="intro-container">
    <h3 class="intro-title">Turismo</h3>
    <p class="intro-text">Guía de atracciones turísticas en la ciudad de Quibdó</p>
  </div>
  <div id="art-grid" class="grid-container"></div>
  <div id="modal" class="modal" style="display: none;">
        <?php include 'modal.php'; ?>
    </div>
  <?php 
//   renderArtGrid('', 'All', $data); 
  ?>
</div>

<script>
    const data = <?php echo $jsonData; ?>;
    let currentCategory = 'TURISMO';
    let searchTerm = '';

    function handleChange(value) {
        searchTerm = value;
        renderArtGrid();
    }

    function handleCategoryChange(category) {
        if (category === 'GUÍAS TURISTICOS') {
            showModal()
            // window.location.href = 'seccion_guias.php';
            return;
        }
        currentCategory = category;
        document.querySelectorAll('.tabs-menu li').forEach(tab => tab.classList.remove('activeTab'));
        document.querySelector(`.tabs-menu li[onclick="handleCategoryChange('${category}')"]`).classList.add('activeTab');
        renderArtGrid();
    }

    function renderArtGrid() {
        const gridContainer = document.getElementById('art-grid');
        gridContainer.innerHTML = '';
        const filteredData = data.filter(art => {
            const titleMatches = art.title.toLowerCase().includes(searchTerm.toLowerCase());
            const categoryMatches = art.category === currentCategory;
            return titleMatches && categoryMatches;
        });
        filteredData.forEach(art => {
            const artCard = document.createElement('div');
            artCard.classList.add('grid-item');
            artCard.innerHTML = `
                <img class="card-img" src="${art.img}" alt="${art.title}" />
                <h4 class="card-title">${art.title}</h4>
            `;
            gridContainer.appendChild(artCard);
        });
    }

    function showModal() {
        var modal = document.getElementById('modal');
        modal.style.display = 'block';
    }

    function closeModal() {
        var modal = document.getElementById('modal');
        modal.style.display = 'none';
    }

    // Inicializar con la categoría 'TURISMO'
    renderArtGrid();
</script>