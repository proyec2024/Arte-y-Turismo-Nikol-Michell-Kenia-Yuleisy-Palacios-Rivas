<?php
$data = [
    [
        'id' => 1,
        'title' => 'El R铆o Atrato es uno de los r铆os m谩s importantes y hermosos de Colombia. Fluyendo a trav茅s de Quibd贸, este majestuoso r铆o ofrece vistas espectaculares y una conexi贸n 铆ntima con la naturaleza. Los visitantes pueden disfrutar de paseos en bote, explorar las orillas del r铆o o simplemente relajarse y observar la vida fluvial. El Atrato no solo es vital para la econom铆a y el transporte, sino tambi茅n para el estilo de vida y la cultura local.',
        'price' => '10000',
        'img' => 'assets/imagenesseccionturistica/30.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 2,
        'title' => 'A solo unos kil贸metros de Quibd贸, Pacurita es una comunidad encantadora que ofrece una experiencia aut茅ntica de la vida rural chocoana. Rodeada de exuberante vegetaci贸n y paisajes tranquilos, Pacurita es el lugar perfecto para desconectarse del bullicio de la ciudad y sumergirse en la naturaleza. Los visitantes pueden disfrutar de caminatas, visitas a fincas locales y la hospitalidad de los residentes.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionturistica\49.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 3,
        'title' => 'La Troje es una popular zona del r铆o Atrato en Quibd贸, conocida por su belleza natural y su importancia para la recreaci贸n local. Es un lugar donde los habitantes se re煤nen para nadar, pescar y disfrutar del paisaje. La Troje es un excelente punto para experimentar la vida cotidiana en Quibd贸 y conectarse con la naturaleza.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionturistica\35.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 4,
        'title' => 'El sancocho es una sopa tradicional y reconfortante que captura los sabores aut茅nticos del Pac铆fico colombiano. Elaborado con una variedad de carnes como pollo, res o pescado, y acompa帽ado de pl谩tano, yuca, ma铆z y otros vegetales, este plato es una explosi贸n de sabor en cada bocado. Cada hogar tiene su propia receta especial, lo que hace que probar el sancocho en Quibd贸 sea una experiencia 煤nica y deliciosa.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\43.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 5,
        'title' => 'La arepa es un alimento b谩sico en muchas regiones de Colombia, y en Quibd贸, se disfruta de una manera 煤nica. Hechas de ma铆z molido y cocidas a la parrilla o fritas, las arepas pueden servirse simples o rellenas con queso, carne o mantequilla. Son perfectas para cualquier comida del d铆a y representan la simplicidad y la riqueza de la cocina local. Probar una arepa en Quibd贸 es saborear una parte esencial de la cultura colombiana.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionturistica\44.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 6,
        'title' => 'Este plato es una verdadera fiesta de sabores y texturas, mezclando arroz con una variedad de carnes, mariscos y vegetales. El "arroz con todo" es un reflejo de la generosidad y diversidad de la cocina chocoana. Cada bocado es una sorpresa, con ingredientes frescos y especias locales que se combinan para crear una experiencia culinaria inolvidable.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionturistica\37.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 7,
        'title' => 'Fresco y crujiente, el pescado frito es una especialidad en Quibd贸. Preparado con pescados reci茅n capturados del r铆o Atrato o del oc茅ano Pac铆fico, este plato se sirve con acompa帽amientos como arroz, patac贸n y ensalada. El pescado frito es una muestra del amor local por los productos del mar y una delicia que no te puedes perder.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\40.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 72,
        'title' => 'Los patacones son rodajas de pl谩tano verde frito que se sirven crujientes y doradas. En Quibd贸, se suelen acompa帽ar con queso fresco, creando una deliciosa combinaci贸n de texturas y sabores. Este plato es perfecto como aperitivo o acompa帽amiento y es una muestra del ingenio culinario local.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\48.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 75,
        'title' => ' La fiesta de San Pacho es la celebraci贸n m谩s grande y vibrante de Quibd贸, en honor a San Francisco de As铆s, el santo patrono de la ciudad. Durante casi un mes, las calles se llenan de desfiles coloridos, m煤sica en vivo, danzas tradicionales y eventos culturales. Esta festividad, declarada Patrimonio Cultural Inmaterial de la Humanidad por la UNESCO, es una muestra espectacular de la rica herencia afrocolombiana y la devoci贸n religiosa de los habitantes de Quibd贸.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionturistica\22.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 8,
        'title' => 'Celebrada en honor a San Antonio, esta festividad combina rituales religiosos con actividades comunitarias y culturales. Los eventos incluyen procesiones solemnes, misas especiales, y fiestas populares con m煤sica y bailes. Es una oportunidad para experimentar la profunda fe y el sentido de comunidad que caracteriza a los habitantes de Quibd贸.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionturistica\28.jpg',
        'category' => 'TURISMO'
    ],
    [
        'id' => 9,
        'title' => 'El pintor y artista pl谩stico Rub茅n Crespo naci贸 en Bello y desde su juventud se ha dedicado a retratar a la comunidad negra, especialmente m煤sicos y mineros. Estudi贸 arte y antropolog铆a, vivi贸 tres a帽os en Quibd贸 y 16 a帽os en Nueva York. Ha presentado sus obras en galer铆as de varias ciudades de Colombia, Estados Unidos y Europa. Una de sus 煤ltimas pinturas es禄 All谩 en Bojay谩禄, en la t茅cnica de acr铆lico sobre lienzo.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\1.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 10,
        'title' => 'El escultor chocoano Carlos Egidio Moreno, nacido en Noanam谩, desarrolla varias t茅cnicas como la talla en piedra, la talla en madera y la pintura en 贸leo. En sus obras destaca la importancia de la diversidad y la riqueza de los grupos 茅tnicos que hacen de Colombia un pa铆s pluri茅tnico y multicultural.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\2.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 11,
        'title' => 'Del artista chocoano Carlos Egidio Moreno, Creaci贸n 煤nica elaborada a trav茅s de procesos y t茅cnicas que nos conectan con la esencia de Colombia, la cultura Chocoana y la raza negra. su obra recibe el nombre de "Flor Negra".',
        'price' => '17000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\3.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 12,
        'title' => 'Otra de las magn铆ficas obras del artista Chocoano Carlos Egidio Moreno. Inaugur贸 la exposici贸n "H谩bitat y H谩bitos, la comunidad afro" en el a帽o 2020, en el centro colombo americano. l explica: "Lo que muestro en la exposici贸n son dos momentos. Uno que es la parte religiosa del pueblo afro, c贸mo se vive y se entiende la cosmovisi贸n a trav茅s de unas pinturas y de una escultura que retratan el sentir animista de la comunidad."',
        'price' => '20000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\4.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 13,
        'title' => 'De la exposici贸n "H谩bitat y h谩bitos, la comunidad afro" del artista Carlos Egidio Moreno. l explica: "El otro momento es con las esculturas con las que hablo de la parte minera, de nuestra relaci贸n con la tierra, desde c贸mo el ser humano se relaciona con ella". Agrega que casi siempre esa relaci贸n es de extracci贸n porque nunca se le da algo a la tierra, "solo le quitamos y la miner铆a es una manera de hacerlo".',
        'price' => '10000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\5.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 14,
        'title' => 'Gustavo Hoyos Ben铆tez naci贸 en Condoto-Choc贸 en 1947. Desde 1969 explor贸 diversas t茅cnicas y se decidi贸 por el 贸leo, dice 茅l: porque me parece que los colores son m谩s vivos, m谩s llamativos禄. Ha realizado exposiciones en Venezuela, Estados Unidos y numerosas ciudades de Colombia. En sus pinturas plasma principalmente los paisajes del Choc贸, los r铆os, el bosque tropical, la biodiversidad.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\6.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 15,
        'title' => 'Gustavo Hoyos Ben铆tez, maestro pintor Chocoano. Talento enorme. Tiene su taller en Quibd贸 y su casa es una galer铆a de paisajes chocoanos.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\7.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 16,
        'title' => 'Rub茅n Crespo P茅rez es un artista pl谩stico y gestor cultural con m煤ltiples exposiciones en el pa铆s y el exterior, quien destaca en su obra el 芦Color afro禄 de nuestra cultura y oficios tradicionales.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionobras\imagenes nuevas\8.jpg',
        'category' => 'OBRAS'
    ],
    [
        'id' => 17,
        'title' => 'La C谩rcel Anayanci es un edificio hist贸rico en Quibd贸 que refleja una parte significativa del pasado de la ciudad. Originalmente construida en la 茅poca colonial, esta estructura ha sido testigo de numerosos eventos hist贸ricos y ha evolucionado junto con la ciudad. Hoy en d铆a, su arquitectura y su historia la convierten en un punto de inter茅s para aquellos que desean entender m谩s sobre la evoluci贸n social y pol铆tica de la regi贸n.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionpatromonio\9.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 18,
        'title' => 'Este hospital es m谩s que un centro de salud; es una instituci贸n emblem谩tica en Quibd贸. Fundado hace d茅cadas, el Hospital San Francisco de As铆s ha proporcionado atenci贸n m茅dica crucial a los habitantes de la ciudad y sus alrededores. Adem谩s de su rol en la comunidad, el edificio mismo es un testimonio de la dedicaci贸n y el servicio continuo a la regi贸n, siendo un s铆mbolo de esperanza y cuidado.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionpatromonio\7.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 19,
        'title' => 'El Colegio Carrasquilla es una de las instituciones educativas m谩s antiguas y respetadas de Quibd贸. Desde su fundaci贸n, ha sido un pilar en la educaci贸n de generaciones de j贸venes chocoanos. Sus instalaciones, impregnadas de historia, albergan una rica tradici贸n educativa y cultural que ha influido profundamente en la comunidad. Visitar el colegio es una oportunidad para conocer de cerca el legado educativo de Quibd贸.',
        'price' => '17000',
        'img' => 'assets\imagenesseccionpatromonio\5.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 20,
        'title' => 'Esta impresionante catedral es un monumento central en Quibd贸, no solo por su arquitectura majestuosa sino tambi茅n por su profundo significado espiritual y cultural. La Catedral San Francisco de As铆s, con sus imponentes vitrales y altares adornados, ofrece un lugar de paz y reflexi贸n. Adem谩s, su historia y su papel en la vida religiosa de la ciudad la convierten en una visita imprescindible para los amantes de la historia y la arquitectura.',
        'price' => '20000',
        'img' => 'assets\imagenesseccionpatromonio\1.jpg',
        'category' => 'PATRIMONIO'
    ],
    [
        'id' => 21,
        'title' => 'Ubicado cerca de la catedral, el Palacio Episcopal es una joya arquitect贸nica que alberga la residencia del obispo y las oficinas de la di贸cesis. Este edificio hist贸rico, con su dise帽o elegante y detalles arquitect贸nicos 煤nicos, refleja la rica herencia religiosa de Quibd贸. Los visitantes pueden apreciar la belleza del edificio y aprender sobre el importante papel de la Iglesia en la comunidad local.',
        'price' => '10000',
        'img' => 'assets\imagenesseccionpatromonio\3.jpg',
        'category' => 'PATRIMONIO'
    ],
];

$jsonData = json_encode($data);

// Funci贸n para imprimir la lista de pesta帽as
function renderTabs($activeCategory, $onCategoryChange)
{
    $tabs = ["TURISMO", "OBRAS", "PATRIMONIO", "HISTORIA", "GUAS TURISTICOS"];
    echo '<nav class="tabs-menu">';
    echo '<ul>';
    foreach ($tabs as $tab) {
        $class = ($activeCategory === $tab) ? 'activeTab' : '';
        echo '<li class="' . $class . '" onclick="' . $onCategoryChange . '(\'' . $tab . '\')">' . $tab . '</li>';
    }
    echo '</ul>';
    echo '</nav>';
}

// Funci贸n para imprimir la cuadr铆cula de arte
function renderArtGrid($searchTerm, $activeCategory, $data)
{
    echo '<div class="grid-container">';
    foreach ($data as $art) {
        // Filtrar seg煤n el t茅rmino de b煤squeda y la categor铆a activa
        if (stripos($art['title'], $searchTerm) !== false && ($activeCategory === 'All' || $art['category'] === $activeCategory)) {
            renderCard($art['title'], $art['price'], $art['img'], $art['category']);
        }
    }
    echo '</div>';
}

// Funci贸n para imprimir una tarjeta de arte
function renderCard($title, $price, $img, $category)
{
    echo '<div class="grid-item">';
    echo '<img class="card-img" src="' . $img . '" alt="' . $title . '" />';
    echo '<h4 class="card-title">' . $title . '</h4>';
    // echo '<span class="category">Categoria: ' . $category . '</span>';
    // echo '<p>$' . $price . '</p>';
    // echo '<span class="favorite" onclick="handleFavorite(\'' . $title . '\')"></span>';
    echo '</div>';
}
?>

<div class="Banner-container">
  <div class="main-search">
    <h3>En que est谩s interesado?</h3>
    <div class="search-container">
      <input class="search-input" type="text" placeholder="Search..." oninput="handleChange(this.value)" />
      <span class="search-icon"></span>
    </div>
  </div>
  <?php 
    // renderTabs('All', 'handleCategoryChange'); 
  ?>

<nav class="tabs-menu">
    <ul>
      <li class="activeTab" onclick="handleCategoryChange('TURISMO')">TURISMO</li>
      <li onclick="handleCategoryChange('OBRAS')">OBRAS</li>
      <li onclick="handleCategoryChange('PATRIMONIO')">PATRIMONIO</li>
      <li onclick="handleCategoryChange('HISTORIA')">HISTORIA</li>
      <li onclick="handleCategoryChange('GUAS TURISTICOS')">GUAS TURISTICOS</li>
    </ul>
  </nav>

  <div class="intro-container">
    <h3 class="intro-title">Turismo</h3>
    <p class="intro-text">Gu铆a de atracciones tur铆sticas en la ciudad de Quibd贸</p>
  </div>
  <div id="art-grid" class="grid-container"></div>
  <div id="modal" class="modal" style="display: none;">
        <?php include 'modal.php'; ?>
    </div>
  <?php 
//   renderArtGrid('', 'All', $data); 
  ?>
</div>

<script>
    const data = <?php echo $jsonData; ?>;
    let currentCategory = 'TURISMO';
    let searchTerm = '';

    function handleChange(value) {
        searchTerm = value;
        renderArtGrid();
    }

    function handleCategoryChange(category) {
        if (category === 'GUAS TURISTICOS') {
            showModal()
            // window.location.href = 'seccion_guias.php';
            return;
        }
        currentCategory = category;
        document.querySelectorAll('.tabs-menu li').forEach(tab => tab.classList.remove('activeTab'));
        document.querySelector(`.tabs-menu li[onclick="handleCategoryChange('${category}')"]`).classList.add('activeTab');
        renderArtGrid();
    }

    function renderArtGrid() {
        const gridContainer = document.getElementById('art-grid');
        gridContainer.innerHTML = '';
        const filteredData = data.filter(art => {
            const titleMatches = art.title.toLowerCase().includes(searchTerm.toLowerCase());
            const categoryMatches = art.category === currentCategory;
            return titleMatches && categoryMatches;
        });
        filteredData.forEach(art => {
            const artCard = document.createElement('div');
            artCard.classList.add('grid-item');
            artCard.innerHTML = `
                <img class="card-img" src="${art.img}" alt="${art.title}" />
                <h4 class="card-title">${art.title}</h4>
            `;
            gridContainer.appendChild(artCard);
        });
    }

    function showModal() {
        var modal = document.getElementById('modal');
        modal.style.display = 'block';
    }

    function closeModal() {
        var modal = document.getElementById('modal');
        modal.style.display = 'none';
    }

    // Inicializar con la categor铆a 'TURISMO'
    renderArtGrid();
</script>